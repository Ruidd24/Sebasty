<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link href="{{ url_for('static', filename='dist/kioskboard-2.3.0.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='dist/homeuistyle.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='dist/feedbackstyle.css') }}" rel="stylesheet">
  <!-- <script src="https://kit.fontawesome.com/86aee6cc9c.js" crossorigin="anonymous"></script> -->
  <title>Document</title>
  <style>
    .chat-container {
            width: 1000px;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            max-height: 500px; /* Set a fixed height for the container */
            overflow-y:auto;
            /* Enable vertical scrolling  */

        }
        .message {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 8px;
            background-color: #f1f0f0;
        }
        .user-message {
            background-color: #8a0000b0;
            align-self: flex-end;
            color: white;
        }
        .chat-form {
            position: absolute;
            top: 84%;
            border-radius: 40px;
            padding: 11.25px;
            margin: 7.5px;
            display: flex;
            align-items: center;
            background: #bdb7a7;
            width: 650px;
            box-shadow: var(--shadow);
        }
        .chat-form input[type="text"] {
            width: 70%;
            padding: 10px;
            border: 1px solid #ccc;
            font-size: 16px;
            margin-left: auto;
            outline: none;
            border: none;
            background: transparent;
        }
        .chat-form input[type="submit"] {
            width: 18%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            background-color: #8a0000;
            color: white;
            font-size: 16px;
            cursor: pointer;
            margin-right: auto;
        }
        .chat-form input[type="submit"]:hover {
            background-color: #8a0000b0;
        }
        section{
            margin-left: 20%;
        }
         
  </style>
</head>
<body>

  <header>
    <div class="navbar">
        <img class="logo" src="{{ url_for('static', filename='pictures/LOGO.png') }}" alt="Logo">
        <a href="#home"><i class="fa-solid fa-comments"></i></i>Info Hub</a>
            <a href="#about"><i class="fa-solid fa-circle-info"></i>About</a>
            <a href="#FAQ"><i class="fa-solid fa-circle-question"></i>FAQs</a>
            <a href="#feedback"><i class="fa-regular fa-star-half-stroke"></i>Feedback</a>
            <a class="back" onclick="location.href='/SEBASTYINDEX'"><i class="fa-solid fa-house"></i>BACK</a>
    </div>
</header>

<section class="section InfoHub" id="home">
    <h2>Information Hub</h2>
    <div class="convos">
        <div class="chat-container" id="chatContainer">
            <div class="message">Hello! How can I help you?</div>
        </div>
    </div>
    <form class="chat-form" onsubmit="sendMessage(event)">
        <input type="text" id="messageInput" placeholder="Type your message...">
        <input type="submit" value="Send">
    </form>
</section>

<section class="section About" id="about">
    <h2>About Sebasty</h2>
        <div class="AboutP">
            <p>Sebasty originates from the Sebastian Identity, where 'Sebastian' represents core values of truth and community. Sebasty serves as a user-friendly robot designed for customer service and marketing initiatives.</p>
            <p>The name of Sebasty came from the combination of the word Sebastinian and Identity because of the name of our instuition San Sebastian college and we also used sebasty so that we will able to promote our school. It is an Al supported robot capable of providing information, collecting feedback, and promoting the school.</p>
        </div>
</section>

<section class="section FAQ" id="FAQ">
    <div class="tops">
        <h2>FAQ Section</h2>
        <form class="FAQsb">
            <span class="material-symbols-outlined">search</span>
            <input type="text" placeholder="Search..." name="search">
        </form>
    </div>
    <div class="FAQps">
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam laboriosam blanditiis tempore quisquam rerum quod ratione, nesciunt accusantium molestias omnis facere porro impedit exercitationem, corrupti mollitia eligendi tempora distinctio quis.</p>   
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam nisi voluptatum commodi, optio pariatur officiis, aut minima dignissimos animi voluptas assumenda tempora eligendi natus esse in ullam debitis numquam? Praesentium.</p>
    </div>  
</section>

<form action="/survey" id="survey_form" class="form1" method="post">
    <section class="feedback wrapper" id="feedback">
        <fieldset>
            <legend>Feedback Form</legend>
            <div class="NameandDep">
                <div class="name">
                    <p>Name:</p>
                    <input type="text" placeholder="Optional..." name="name">
                </div>
    
                <div class="department">
                    <p>Your Department:</p>
                    <select name="There_Department" id="There_Department">
                        <option value="Not Specify">Select Here...</option>
                        <option value="engineering">Engineering Department</option>
                        <option value="Finance">Finance Department</option>
                        <option value="Medical">Medical Department</option>
                    </select>
                </div>
            </div>
            <div class="targetdep">
                <p>Your Target Department:</p>
                <select name="There_TDepartment" id="There_TDepartment" >
                    <option value="Not Specify">Select Here...</option>
                    <option value="engineering">Engineering Department</option>
                    <option value="Finance">Finance Department</option>
                    <option value="Medical">Medical Department</option>
                </select>
            </div>
            <div class="rating2" >
                <input value="5" name="department_rating" id="star5" type="radio" required>
                <label for="star5"></label>
                <input value="4" name="department_rating" id="star4" type="radio" required>
                <label for="star4"></label>
                <input value="3" name="department_rating" id="star3" type="radio" required>
                <label for="star3"></label>
                <input value="2" name="department_rating" id="star2" type="radio" required>
                <label for="star2"></label>
                <input value="1" name="department_rating" id="star1" type="radio" required>
                <label for="star1"></label>
            </div>
            <textarea id="textarea" class="textarea" name="suggestion" cols="30" rows="5" placeholder="Your opinion..."></textarea>
            <div class="btn-group2">
                <button type="button" class="btn submit2" onclick="showNextSection()">Next</button>
                <button type="button" class="btn cancel2" onclick="location.href='/SEBASTYINDEX'">Cancel</button>
            </div>
        </fieldset>
    </section>
    
    <div class="schoolrate">
        <section class="section SebR" id="SSrating" style="display: none;">
            <div class="sebBox">
                <div class="seb content">
                    <h1>How do you rate San Sebastian?</h1>
                    <div class="rating1">
                        <input value="5" name="schoolrating" id="star5_school" type="radio">
                        <label for="star5_school"></label>
                        <input value="4" name="schoolrating" id="star4_school" type="radio">
                        <label for="star4_school"></label>
                        <input value="3" name="schoolrating" id="star3_school" type="radio">
                        <label for="star3_school"></label>
                        <input value="2" name="schoolrating" id="star2_school" type="radio">
                        <label for="star2_school"></label>
                        <input value="1" name="schoolrating" id="star1_school" type="radio">
                        <label for="star1_school"></label>
                    </div>
                    <div class="btn-group1">
                        <button type="submit" class="btn submit1">Submit</button>
                        <button type="button" class="btn cancel1" onclick="showPreviousSection()">Back</button>
                    </div>
                </div>
            </div>
        </section> 
    </div>    
  </form>  

  <script>
    function showNextSection() {
        document.getElementById("feedback").style.display = "none";
        document.getElementById("SSrating").style.display = "flex";
    }
  
    function showPreviousSection() {
        document.getElementById("feedback").style.display = "flex";
        document.getElementById("SSrating").style.display = "none";
    }
  
    function cancelForm() {
        document.getElementById("feedbackForm").reset();
        document.getElementById("feedback").style.display = "flex";
        document.getElementById("SSrating").style.display = "none";
    }
  </script>

<!-- <script src="{{ url_for('static', filename='dist/kioskboard-2.3.0.min.js') }}"></script> -->

<script>
    function sendMessage(event) {
            event.preventDefault();
            var messageInput = document.getElementById("messageInput");
            var messageText = messageInput.value.trim();
            
            if (messageText !== "") {
                var messageContainer = document.createElement("div");
                messageContainer.classList.add("message", "user-message");
                messageContainer.textContent = messageText;
                document.getElementById("chatContainer").appendChild(messageContainer);
                messageInput.value = "";
                // Scroll to the bottom of the chat container
                document.getElementById("chatContainer").scrollTop = document.getElementById("chatContainer").scrollHeight;

                // Send message to the server
                fetch("/send_message", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded"
                    },
                    body: "message=" + encodeURIComponent(messageText)
                })
                .then(response => response.json())
                .then(data => {
                    var responseContainer = document.createElement("div");
                    responseContainer.classList.add("message");
                    responseContainer.textContent = data.response;
                    document.getElementById("chatContainer").appendChild(responseContainer);
                    // Scroll to the bottom of the chat container after receiving response
                    document.getElementById("chatContainer").scrollTop = document.getElementById("chatContainer").scrollHeight;
                })
                .catch(error => {
                    console.error("Error:", error);
                });
            }
        }
</script>
<!-- <script> 
    // Redirect to page 2 after 5 seconds if no interaction
    setTimeout(function() {
        window.location.href = "/SEBASTYINDEX";
    }, 10000); // 10000 milliseconds = 10 seconds
</script>-->

</body>
</html>